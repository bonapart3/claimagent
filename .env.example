# =============================================================================
# ClaimAgent Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Clerk Authentication
# Get your keys from: https://dashboard.clerk.com
# -----------------------------------------------------------------------------
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your-publishable-key
CLERK_SECRET_KEY=sk_test_your-secret-key
CLERK_WEBHOOK_SECRET=whsec_your-webhook-secret
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000/api
APP_NAME=ClaimAgent
APP_VERSION=3.0.0

# -----------------------------------------------------------------------------
# Database (Neon PostgreSQL)
# Get connection string from: https://console.neon.tech
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@ep-xxx.region.aws.neon.tech/neondb?sslmode=require
DIRECT_URL=postgresql://user:password@ep-xxx.region.aws.neon.tech/neondb?sslmode=require

# -----------------------------------------------------------------------------
# Cloudflare R2 Storage
# Create API token in: Cloudflare Dashboard > R2 > Manage R2 API Tokens
# Same credentials work for both buckets (claimagent-documents, claimagent-uploads)
# -----------------------------------------------------------------------------
R2_ACCOUNT_ID=your-account-id
R2_ACCESS_KEY_ID=your-access-key-id
R2_SECRET_ACCESS_KEY=your-secret-access-key
R2_S3_API=https://your-account-id.r2.cloudflarestorage.com

# Local Storage (Development fallback)
UPLOAD_DIR=./uploads
UPLOAD_MAX_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# -----------------------------------------------------------------------------
# AI Services
# -----------------------------------------------------------------------------
# OpenAI - https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.2

# Anthropic (optional) - https://console.anthropic.com
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-key

# Damage Analysis
DAMAGE_ANALYSIS_MODEL=gpt-4-vision-preview
DAMAGE_ANALYSIS_MAX_TOKENS=2048

# Fraud Detection
FRAUD_MODEL_ENDPOINT=https://ml.claimagent.io/fraud/v1
FRAUD_MODEL_API_KEY=your-fraud-model-api-key
FRAUD_THRESHOLD=50

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
JWT_SECRET=generate-a-random-32-char-secret
JWT_EXPIRATION=7d
ENCRYPTION_KEY=generate-a-random-32-char-key
ENCRYPTION_ALGORITHM=aes-256-gcm

# -----------------------------------------------------------------------------
# External APIs (configure as needed)
# -----------------------------------------------------------------------------
# Valuation
VALUATION_API_URL=https://api.valuation-provider.com
VALUATION_API_KEY=
VALUATION_TIMEOUT=10000

# VIN Decoder (free, no key needed)
VIN_DECODER_API_URL=https://vpic.nhtsa.dot.gov/api
VIN_DECODER_CACHE_TTL=86400

# -----------------------------------------------------------------------------
# Payment Processing (Stripe)
# -----------------------------------------------------------------------------
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-key
STRIPE_SECRET_KEY=sk_test_your-stripe-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# -----------------------------------------------------------------------------
# Email (SMTP)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=your-email@domain.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@claimagent.io
EMAIL_FROM_NAME=ClaimAgent

# -----------------------------------------------------------------------------
# Monitoring (optional)
# -----------------------------------------------------------------------------
# SENTRY_DSN=https://xxx@sentry.io/xxx
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_AUTO_APPROVAL=true
FEATURE_FRAUD_DETECTION=true
FEATURE_AI_DAMAGE_ANALYSIS=true

# -----------------------------------------------------------------------------
# Development/Testing
# -----------------------------------------------------------------------------
DEBUG=false
LOG_LEVEL=info
TEST_MODE=false
